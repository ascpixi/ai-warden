@use "mixins" as *;

* {
    box-sizing: border-box;
    font-variant-ligatures: none;
}

html, body {
    width: 100%;
    height: 100%;
    margin: 0;
}

body {
    font-size: 1.5em;
    background-color: #000;
    background-image: radial-gradient(ellipse, #000 0%, #05321e9c 100%);
    background-repeat: repeat-y;
}

#app-root {
    width: 100%;
    height: 100%;
    padding: 3em 2em;

    &.crt {
        filter: url(#bloom) url(#crt);
    }

    &.load-crt {
        filter: url(#crt) url(#bloom) url(#crt) blur(4px);
    }

    @include sm {
        padding: 3em 6em;
    }
}

body, textarea, a {
    color: #5bf870;
    font-family: var(--vt323);
}

#app {
    padding-bottom: 4em;
}

header {
    margin-bottom: 2em;

    h1 {
        font-size: 1em;
        font-weight: normal;
    }

    .initial-prompt {
        padding-left: 1em;
        border-left: 4px solid #00ee00aa;
    }
}

footer {
    @include flex-col;
    margin-top: 2em;
    gap: 6px;
}

.term-input {
    width: 100%;
    display: flex;
    gap: .5em;

    textarea {
        width: 100%;
        background-color: transparent;
        border: none;
        resize: none;
        outline: none;
        padding: 0;
        font-size: 1em;
        field-sizing: content;
        caret-shape: block; // not supported by any browsers for now, but a man can dream...
    }
}

.message {
    @include flex-col;
    gap: 16px;
    padding: 1em 0;

    .user, .bot {
        width: 100%;
    }

    .user {
        text-align: right;
        padding-left: 3em;

        @include sm {
            padding-left: 6em;
        }
    }

    .bot {
        display: flex;
        align-items: center;
        gap: 1em;
        padding-right: 3em;

        @include sm {
            padding-right: 6em;
        }
    }

    .user::before {
        content: "> ";
    }

    .typing {
        animation: cursor-blink 1.5s steps(2) infinite;
        font-size: .75em;

        @keyframes cursor-blink {
            0% { opacity: 0; }
        }
    }

    .secret-phrase {
        background-color: white;
        color: black;
        padding: 0 .25em;
    }

    &.system {
        padding-left: 1em;
        border-left: 4px solid #00ee00aa;

        .bot {
            flex-direction: column;
            align-items: start;
        }
    }
}
